<!DOCTYPE html>
<!-- layout:decorate 레이아웃 활용을 위한 속성 -->
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/default}">
      
<th:block layout:fragment="customTitle">
	<title>표준정기점검표</title>
</th:block>

<th:block layout:fragment="customScript">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script type="text/javascript">
		
		$(document).ready(function(){
		    
			

			$('#periodBtn').click(function(){
				
				var check = $("input:checkbox[name='check']:checked").val()

		
				if(check == "undefined" || check == null){
					alert('항목을 체크 하시오.')
				}else{
					console.log(check)
				}
				
				
				var request = $.ajax({
					  url: "/",	//호출될 url
					  method: "POST",
					  data: {},//파라미터
					  dataType: "json"		//응답 타입
					});
					 			
// 					request.done(function( data ) {
						
					
						
					
// 						console.log(data)

// 					})
					
// 					request.fail(function( jqXHR, textStatus ) {
// 					  //alert( "Request failed: " + textStatus );
// 					});

					
 				});	

			   
			
		})
		
		$(document).on('click','#checkall',function(){
				if($("#checkall").prop("checked")){
				    $("input[name=check]").prop("checked",true);
				}else{
					$("input[name=check]").prop("checked",false);
				}
			})
		
	</script>
</th:block>	
      
<th:block layout:fragment="customContents">

		<div>
			<h1>정기 점검표</h1>
				<button style="float:right;" id="periodBtn" value="period">교환주기 조회</button>
			<br>
		</div>
		
		<br>
		
		<table id="bootstrap-data-table" class="table table-striped table-bordered">
			<tr>			
				<td>교환목록</td>
				<td>거리별 교환주기</td>
				<td>기간별 교환주기</td>
				<!-- <td>전체선택<input type="checkbox" id="checkall"></td> -->
				 
				<td><input type="checkbox" id="checkall"> <label>전체선택</label></td>
			</tr>
			<tr th:each="l : ${routineCheckList}">
				<td th:value = "${l.riItem}" th:text = "${l.riItem}" ></td>
				<td th:value = "${l.distanceCycle}" th:text="${l.distanceCycle}"></td>
				<td th:value = "${l.periodCycle}" th:text="${l.periodCycle}"></td>
				<td><input type="checkbox" class="checkBox" name="check" th:value="${l.periodCycle}"></td>
			</tr>
		</table>

</th:block>
      
</html>